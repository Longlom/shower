<!DOCTYPE html>
<html lang="en">

<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <link rel="stylesheet" href="node_modules/@shower/ribbon/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
            --slide-side: 40px;
        }

        h2 {
            position: absolute;
            top: 0;
            left: 10px;
            font-size: 14px;
            color: black;
        }

        .slide h2 {
            font-size: 40px;
            color: black;
        }

        .slide {
            padding-top: 62px;
        }

        .slide .intro {
            display: flex;
            line-height: 15px;
            align-items: center;
            justify-content: space-between;
        }

        .introHeader {
            font-size: 40px;
            font-weight: bold;

        }

        #off::after {
            visibility: hidden;
        }
    </style>
</head>

<body class="shower list">
    <header class="caption">
        <h1>Shower Presentation Engine</h1>
        <p>Yours Truly, Famous Inc.</p>
    </header>

    <section class="slide" id="off">
        <img class="cover" src="pictures/background.png">
        <p class="introHeader">
            Перенос U-Boot и Linux на новые ARM платформы
        </p>
        <div class="intro">
            <div>
                <p>
                    Буй Дык Лонг
                </p>
                <p>МГТУ им. Н. Э. Баумана
                </p>
                <p>
                    Ya.long2@yandex.ru
                </p>
            </div>
            <img src="pictures/intro.png" alt="">
        </div>
    </section>

    <section class="slide" id="off">
        <h2>Преамбула</h2>
        <img class="cover" src="pictures/background.png">

        <ul>
            <li>Фидбек о моем опыте поддержки пользовательской платы в U-Boot и Linux</li>
            <li>Пример для платы известной SoC (Allwiner)</li>
        </ul>
    </section>
    <section class="slide" id="off" style="line-height: 38px;">
        <h2>Зачем ?</h2>
        <img class="cover" src="pictures/background.png">
        <ul>
            <li>Открытый исходный код: Встраиваемый Linux полностью основан на открытом исходном коде.
            </li>
            <li>Гибкость и масштабируемость: Встраиваемый Linux предоставляет разработчикам возможность выбора из
                множества компонентов.
            </li>
            <li>Экосистема и поддержка: Благодаря активному сообществу и большому количеству доступных ресурсов,
                разработчики могут быстро решать возникающие вопросы и получать поддержку при работе с встраиваемым
                Linux.
            </li>

            <li>Применение в различных отраслях Встраиваемый Linux может быть использован в самых разнообразных областях
                – от промышленной автоматизации и робототехники до автомобильной электроники, медицинских устройств и
                сетевого оборудования. Особенно встроенный Linux широко используется в инновационных IoT-устройствах,
                операционных системах и "умном" оборудовании, требующем интеграции мультимедиа-технологий, таких как
                камеры, микрофоны и датчики.

            </li>

        </ul>
    </section>
    <section class="slide" id="off">
        <h2>Основные правила</h2>
        <img class="cover" src="pictures/background.png">
        <ul>
            <li>Если у вас есть исходники BSP, скомпилируйте и запустите BSP:
                <ol>
                    <li>Проверить работоспособность разрабатываемой IP с помощью какого-либо кода,
                    </li>
                    <li>Иметь эталонный код</li>
                    <li>Иметь код, который можно использовать для отладки,
                    </li>
                </ol>
            </li>
            <li>На первом этапе сосредоточиться только на правильной настройке RAM и UART,

            </li>
            <li>По одному IP за коммит,

            </li>
        </ul>

    </section>
    <section class="slide" id="off">
        <h2>Характеристики отладочной платы</h2>
        <img class="cover" src="pictures/background.png">
        <ul>
            <li>Модуль на базе T113-I с платой расширения
            </li>
            <li>Ethernet, I2C, SPI, NAND, eMMC, SD Card reader, USB device, EEPROM, GPIO, UART, audio (I2S), HDMI, LVDS,
                PCIe, USB host, RTC, PMIC,
            </li>
        </ul>
        <img src="pictures/characteristics.png" alt="">

    </section>
    <section class="slide" id="off">
        <h2>U-Boot: основные директории</h2>
        <img class="cover" src="pictures/background.png">
        <ul>
            <li style="white-space: pre-line;">arch/
                все, что связано с архитектурой или платформой: DTS, CPU init, pinmux controller, DRAM, clocks, ...</li>
            <li style="white-space: pre-line;">board/
                Файлы конфигурации плат от вендоров</li>
            <li style="white-space: pre-line;">configs/
                Defconfigs файлы
            </li>
            <li style="white-space: pre-line;">drivers/
            </li>
            <li style="white-space: pre-line;">include/
                Все заголовки
            </li>
        </ul>

    </section>
    <section class="slide" id="off">
        <h2>U-Boot: процесс поддержки новой платы</h2>
        <img class="cover" src="pictures/background.png">
        <ol>
            <li>Создать файл платы
            </li>
            <li>Создать файл Kconfig
            </li>
            <li>Создать файл Makefile
            </li>
            <li>Создать файл defconfig
            </li>
            <li>Создать файл для заголовков ядра,
            </li>
            <li>Определить переменную TARGET в Kconfig процессора

            </li>
        </ol>
    </section>

    <section class="slide" id="off">
        <h2>1. Создайте файл платы</h2>
        <img class="cover" src="pictures/background.png">
        <img src="pictures/myboard_c.png" alt="">

    </section>
    <section class="slide" id="off">
        <h2>Global data</h2>
        <img class="cover" src="pictures/background.png">
        <ul>
            <li>
                DECLARE_GLOBAL_DATA_PTR,
            </li>
            <li>может использоваться в коде с глобальной переменной gd
            </li>
            <li>на ARM, равен аппаратному регистру r9 для ARM32 и x18 для ARM64</li>
            <li>используется для хранения информации в некоторой памяти, которая становится доступной очень рано после
                загрузки, чтобы обеспечить минимальный набор глобальных переменных во время инициализации системы (пока
                мы не настроим контроллер памяти так, чтобы использовать оперативную память)</li>
        </ul>

    </section>
    <section class="slide" id="off">
        <h2>2. Создать файл Kconfig</h2>
        <img class="cover" src="pictures/background.png">
        <img src="pictures/kconfig.png" alt="">
    </section>

    <section class="slide" id="off">
        <h2>Kconfig опции</h2>
        <img class="cover" src="pictures/background.png">
        <ul>
            <li>
                SYS_VENDOR and SYS_BOARD используются для определения каталога, в котором make находит файлы,
                необходимые для компиляции,
                <ul>
                    <li>если оба присутствуют
                        <ul>
                            <li>board/SYS_VENDOR/SYS_BOARD/</li>
                        </ul>
                    </li>
                    <li>если SYS_VENDOR отсутствует
                        <ul>
                            <li>board/SYS_BOARD/
                            </li>
                        </ul>
                    </li>
                    <li>если SYS_BOARD отсутствует
                        <ul>
                            <li>board/SYS_VENDOR/common/
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                SYS_CONFIG_NAME используется для идентификации заголовочного файла платы

                <ul>
                    <li>include/configs/SYS_CONFIG_NAME.h
                    </li>
                </ul>
            </li>
        </ul>

    </section>
    <section class="slide" id="off">
        <h2>Menuconfig</h2>
        <img class="cover" src="pictures/background.png">
        <img src="pictures/menuconfig.png" alt="" style="margin: 10px 240px;">

    </section>
    <section class="slide" id="off">
        <h2>3. Создать файл Makefile </h2>
        <img class="cover" src="pictures/background.png">
        <img src="pictures/makefile.png" alt="">
    </section>

    <section class="slide" id="off">
        <h2>4. Создать файл defconfig</h2>
        <img class="cover" src="pictures/background.png">
        <img src="pictures/defconfig.png" alt="">

        <ul>
            <li>В данный конфиг нужно добавить все, что можно выбрать в Kconfig (menuconfig),
            </li>
            <li>Определить драйвера, поведение U-Boot
            </li>
        </ul>
    </section>

    <section class="slide" id="off">
        <h2>5. Создание заголовочного файла для Линукса</h2>
        <img class="cover" src="pictures/background.png">
        <img src="pictures/header.png" alt="">
    </section>

    <section class="slide" id="off">
        <h2>6 Определить Target в вариантах Kconfig</h2>
        <img class="cover" src="pictures/background.png">
        <img src="pictures/target.png" alt="" style="width: 100%;">
    </section>

    <section class="slide" id="off">
        <h2>U-Boot последовательность инициализации</h2>
        <img class="cover" src="pictures/background.png">

        <ul>
            <li>U-Boot запустит два списка функций, целью которых является инициализация или настройка определенных
                интерфейсов до того, как пользователь получил доступ к консоли,
            </li>
            <li>первый список функций определен в файле common/board. c, который инициализирует DRAM,
            </li>
            <li>Затем запускается все, что было определено во время разработки
            </li>
        </ul>
    </section>

    <section class="slide" id="off">
        <h2>Пример</h2>
        <img class="cover" src="pictures/background.png">
        <div style="display: flex; margin-top: 100px; align-items: center;">
            <img src="pictures/test.jpg" alt="">
            <ul style="margin-left: 90px;">
                <li>Пример инициализации драйвера framebuffer для вывода на дисплей
                </li>
            </ul>
        </div>
    </section>
    <section class="slide" id="off">
        <h2>Заключение</h2>
        <img class="cover" src="pictures/background.png">
        <div style="display: flex; align-items: center; margin-top: 120px;">
            <img src="pictures/linux.jpg" alt="">
            <p style="margin-left: 15px;">Встраиваемый Linux является идеальным выбором для надежной, гибкой и
                масштабируемой встроенной системы благодаря своему открытому исходному коду, обширной экосистеме и
                возможности настройки под собственные нужды разработчика.
            </p>
        </div>
    </section>

    <footer class="badge">
        <a href="https://github.com/shower/shower">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="node_modules/@shower/core/dist/shower.js"></script>
    <!-- Copyright © 3000 Yours Truly, Famous Inc. -->

</body>

</html>